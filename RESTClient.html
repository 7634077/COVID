<html>
    <head>
        <link rel="stylesheet" href="covid.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>


        <script>    
           
        
        async function getclients()
        {
            let resp = await fetch("http://localhost:8000/api/clients");
            if(resp.ok)
            {
                let clnt = await resp.json();
                let lObj = document.getElementById("ul");
                clnt.forEach(client =>
                {
                    let cl="id:"+client.id+" name:"+client.name.fname+" "+client.name.lname+", address: "
                    +client.address.street+" "+client.address.number+" ,"+client.address.city
                    +", birthday: "+client.birthday+", pel:"+client.pel+" ,tel:"+client.tel;     
        
                    cLI =  document.createElement("li");
                    cLI.innerHTML= cl.link("RESTClientId.html?id="+client._id);
                    lObj.appendChild(cLI);

                })
        
                
            }
        }
        
        async function getClient(id)
        {
            console.log("http://localhost:8000/api/clients/"+id)
            let resp = await fetch("http://localhost:8000/api/clients/"+id);
            if(resp.ok)
            {
                let per = await resp.json();
        
                return(per);
            }
        }
        
        async function addClient()
        {
            window.location = "ADDClient.html";
        
        }   
        </script>
    </head>




<body>
    <div class="container">
        <input type="button" value="Get All clients" onclick="getclients()">
        <input type="button" value="Add client" onclick="addClient()">
    </div>
<ul   id="ul">

</table>

</body>

</html>